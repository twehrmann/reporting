# Model definitions
DB_SCHEMA_RESULTS: client_output
DB_SCHEMA_BASE: mssql

BASE:
    R_BASE: /Volumes/SSD2go_tw/conafor/reporting/cliente_general/
    IP: 0.0.0.0
    port: 5555
    debug: True
    loglevel: DEBUG
    metadata_table: v_last_reports
    timestamp_fmt: "%Y-%m-%d %H:%M:%S"
    date_fmt: "%Y-%m-%d"
    float_fmt: "%.3f"
    max_string_length: 25
    DB_STRING: "postgresql://postgres:postgres.@reddbase/reporting"
    DEFAULT_OUTPUT_FORMAT: html
    DOCUMENTATION_URLS:
        filename: Static files like metadata catalogues
        tablename: Table name for its metadata access
        cycle: INFyS cycle, in 2015 it is 1 (2004-2007) y 2 (2009-1013)
        id: id_unidad_muestreo
        udm_id: id_unidad_muestreo
        stock: type of carbon stock, e.g. carbono_arboles, carbono_tocones, carbono_raices_por_sitio y carbono_muertospie are calculated/possible
        resource_format: output format like json, html and xls
        strata_type: base landcover scheme like bur, madmex and inegi are possible
        subcategory: change dynamics like tf-tf, tf-ot, tf-tfd and tfd-td are possible
    EXAMPLE_URLS:
        filename: "Variables de REPORTE y CAMPOS 20150119.xlsx"
        tablename: "calculo_20150721_reporte_nivel_udm_estimacion_t1_v20"
        cycle: 1 
        id: 20692
        udm_id: 20692
        stock: carbono_arboles
        resource_format: json
        strata_type: BUR
        subcategory: tf-tf
       
REPORT:
    title: autogenerated

# Definition of update cycles and their corresponding tables
BASE_TABLES_UDM:
    T1: calculo_20150721_reporte_nivel_udm_estimacion_t1_v20
    T2: calculo_20150721_reporte_nivel_udm_estimacion_t2_v20
    
TABLES_UDM_BIOMASA:
    estrato: "fe_bm_estrato_sitio_%s_%s"
    sum: "fe_bm_sum_sitio_%s_%s"
    
TABLES_NATIONAL:
    bur: fefa_ipcc_abs_s2s3_bur
    redd: fefa_ipcc_abs_s2s3_madmex

BASE_TABLES_OBS:
    T1: calculo_20150721_reporte_nivel_observacion_estimacion_t1_v20
    T2: calculo_20150721_reporte_nivel_observacion_estimacion_t2_v20

# Strata definition for the change dynamics according to IPCC and their tables
STRATA_DEFINITION:
    tf-tf: "fe_delta_strata_%s_%s"
    tf-ot: "fe_pot_strata_%s_%s"
    tfd-tf: "fe_rec_strata_%s_%s"
    tf-tfd: "fe_deg_strata_%s_%s"

OBS_COLUMN_MAPPER:
    arbolado_vivo:
        - numero_conglomerado
        - seccion_infys
        - numero_arbol
        - carbono_aereo_estimado

UDM_COLUMN_MAPPER:
    carbono:
        - id_unidad_muestreo
        - numero_especies_existentes
        - carbono_vivos
        - carbono_raices
        - carbono_muertos_pie
        - carbono_tocones
        - tallos_totales
    vivos:
        - id_unidad_muestreo
        - numero_conglomerado        
        - numero_especies_existentes
        - biomasa_vivos
        - carbono_vivos
        - individuos_vivos
        - tallos_totales
    tocones:
        - id_unidad_muestreo
        - numero_conglomerado   
        - numero_especies_existentes
        - biomasa_tocones
        - carbono_tocones
        - individuos_tocones
        - tallos_totales
    raices:
        - id_unidad_muestreo
        - numero_conglomerado   
        - numero_especies_existentes
        - biomasa_raices
        - carbono_raices
        - carbono_raices
        - tallos_totales
    muertos_pie:
        - id_unidad_muestreo
        - numero_conglomerado   
        - numero_especies_existentes
        - biomasa_muertos_pie
        - carbono_muertos_pie
        - individuos_muertos_pie
        - tallos_totales

        
UDM_BIOMASA_MAPPER:
    short:
        - Estrato
        - nCong
        - nSit
        - ER_Carboles
        - U_Carboles

STRATA_COLUMN_MAPPER:
    short:
        - Estrato
        - NumCong
        - NumSitios
        - AreaHa
        - ER
        - U
    degrad:
        - Estrato
        - parametro
        - Ulwr
        - Uupr

EXCEL_FORMAT:
    stocks:
        carbono_arboles: Biomasa aérea
        carbono_raices_por_sitio: Biomasa subterránea
        carbono_muertospie: Carbono almacenado en muertos en pie
        carbono_tocones: Carbono almacenado en "tocones"
    base_udm:
        title: Calculo de modelo
        source: "Fuente de Datos: Ciclo %s del INFyS"
        columns:
            - numero_conglomerado: numero_conglomerado
            - numero_sitio: numero_sitio
            - tallos_totales: tallos_totales
            - individuos_totales: individuos_totales
            - numero_familias_existentes: numero_familias_existentes
            - numero_especies_existentes: numero_especies_existentes
            - individuos_vivos: individuos_vivos
            - individuos_muertos_pie: individuos_muertos_pie
            - individuos_tocones: individuos_tocones
            - promedio_diametro_vivos: promedio_diametro_vivos
            - promedio_diametro_muertos_pie: promedio_diametro_muertos_pie
            - promedio_diametro_tocones: promedio_diametro_tocones
            - area_basal_vivos: area_basal_vivos
            - area_basal_muertos_pie: area_basal_muertos_pie
            - area_basal_tocones: area_basal_tocones
            - promedio_altura_total_vivos: promedio_altura_total_vivos
            - promedio_altura_total_muertos_pie: promedio_altura_total_muertos_pie
            - promedio_altura_total_tocones: promedio_altura_total_tocones
            - version_calculo: version_calculo
            - fecha_calculo: fecha_calculo
            - individuos_totales_estimacion: individuos_totales_estimacion
            - individuos_vivos_estimacion: individuos_vivos_estimacion
            - individuos_muertos_pie_estimacion: individuos_muertos_pie_estimacion
            - individuos_tocones_estimacion: individuos_tocones_estimacion
            - promedio_diametro_vivos_estimacion: promedio_diametro_vivos_estimacion
            - promedio_diametro_muertos_pie_estimacion: promedio_diametro_muertos_pie_estimacion
            - promedio_diametro_tocones_estimacion: promedio_diametro_tocones_estimacion
            - area_basal_vivos_estimacion: area_basal_vivos_estimacion
            - area_basal_muertos_pie_estimacion: area_basal_muertos_pie_estimacion
            - area_basal_tocones_estimacion: area_basal_tocones_estimacion
            - promedio_altura_total_vivos_estimacion: promedio_altura_total_vivos_estimacion
            - promedio_altura_total_muertos_pie_estimacion: promedio_altura_total_muertos_pie_estimacion
            - promedio_altura_total_tocones_estimacion: promedio_altura_total_tocones_estimacion
            - biomasa_vivos: biomasa_vivos
            - biomasa_muertos_pie: biomasa_muertos_pie
            - biomasa_tocones: biomasa_tocones
            - biomasa_raices: biomasa_raices
            - carbono_vivos: carbono_vivos
            - carbono_muertos_pie: carbono_muertos_pie
            - carbono_tocones: carbono_tocones
            - carbono_raices: carbono_raices
            - id_levantamiento: id_levantamiento
            - id_unidad_muestreo: id_unidad_muestreo
            - tipificacion: tipificacion
            - latitud: latitud
            - longitud: longitud
            - anio_levantamiento: anio_levantamiento
    base_udm_vivo:
        title: Calculo de modelo
        source: "Fuente de Datos: Ciclo %s del INFyS"
        columns:
            - id_unidad_muestreo: id muestreo
            - numero_conglomerado: "# cong"
            - numero_especies_existentes: "# especies"
            - biomasa_vivos: biomasa
            - carbono_vivos: carbono (t/ha)
            - tallos_totales: tallos
    base_udm_muertos:
        title: Calculo de modelo
        source: "Fuente de Datos: Ciclo %s del INFyS"
        columns:
            - id_unidad_muestreo: id muestreo
            - numero_conglomerado: "# cong"
            - numero_especies_existentes: "# especies"
            - biomasa_muertos_pie: biomasa
            - carbono_muertos_pie: carbono
            - individuos_muertos_pie: "# muertos pie"
            - tallos_totales: tallos
    base_udm_tocones:
        title: Calculo de modelo
        source: "Fuente de Datos: Ciclo %s del INFyS"
        columns:
            - id_unidad_muestreo: id muestreo
            - numero_conglomerado: "# cong"
            - numero_especies_existentes: "# especies"
            - biomasa_tocones: biomasa
            - carbono_tocones: carbono
            - individuos_tocones: "# tocones pie"
            - tallos_totales: tallos

    base_observation:
        title: Calculo de modelo
        source: "Fuente de Datos: Ciclo %s del INFyS"
        columns:
            - desposito_ipcc_1: Desposito en nivel IPCC 1
            - desposito_ipcc_2: Desposito en nivel IPCC 2
            - desposito_ipcc_3: Desposito en nivel IPCC 3
            - numero_conglomerado: NumCong
            - seccion_infys: seccion de INFyS
            - numero_sitio: NumSit
            - numero_registro: NumReg
            - numero_arbol: numero de arboles
            - familia: familia
            - nombre_cientifico: nombre_cientifico
            - condicion: condicion
            - diametro_normal: diametro_normal
            - diametro_normal_depurado: diametro_normal_depurado
            - altura_total: altura_total
            - altura_total_depurada: altura_total_depurada
            - se_utilizo_para_contar_biomasa: se_utilizo_para_contar_biomasa
            - version_calculo: version_calculo
            - fecha_calculo: fecha_calculo
            - modelo_alometrico: modelo_alometrico
            - referencia_modelo_alometrico: referencia_modelo_alometrico
            - tipo_modelo_alometrico: tipo_modelo_alometrico
            - densidad_de_madera: densidad_de_madera
            - referencia_densidad_de_madera: referencia_densidad_de_madera
            - diametro_basal_estimado: diametro_basal_estimado
            - biomasa_area_estimada: biomasa_area_estimada
            - fraccion_carbono: fraccion_carbono
            - tipo_fraccion_carbono: tipo_fraccion_carbono
            - carbono_aereo_estimado: carbono_aereo_estimado
            - id_levantamiento: id_levantamiento
            - id_calculo_modelo_arbolado: id_calculo_modelo_arbolado
            - id_unidad_muestreo: id_unidad_muestreo
            - tipificacion: tipificacion
            - latitud: latitud
            - longitud: longitud
            - anio_levantamiento: anio_levantamiento
    base_observation_carbono_aereo:
        title: Calculo de modelo
        source: "Fuente de Datos: Ciclo %s del INFyS"
        columns:
            - numero_conglomerado: NumCong
            - numero_arbol: numero de arboles
            - seccion_infys: seccion de INFyS
            - carbono_aereo_estimado: Carbono estimado
    carbono5:
        title: Densidades de carbono
        source: "Fuente de Datos: Ciclo %s del INFyS"
        columns:
            - Estrato: Estrato
            - NumSitios: NumSitios
            - NumCong: NumCong
            - AreaHa: Area (ha)
            - ER: ER (tonC/ha)
            - U: U (%)
    dcarbono:
        title: Cambios en las densidades de carbono
        source: "Fuente de Datos: Ciclo 1 y 2 del INFyS"
        columns:
            - Estrato: Estrato
            - NumSitios: NumSitios
            - NumCong: NumCong
            - AreaHa: Area (ha)
            - ER: ER (tonC/ha)
            - U: U (%)
    refoRecu:
        title: Tasas de recuperación / reforestación
        source: "Fuente de Datos: Ciclo 1 y 2 del INFyS"
        columns:
           - Estrato: Estrato
           - parametro: TonC/ha/año
           - Ulwr: Ulwr (%)
           - Uupr: Uupr (%)
    biomasa_viva:
        title: Suma de carbono por sitio
        source: "Fuente de Datos: Ciclo %s del INFyS"
        columns:
            - Estrato: Estrato
            - TotUMPreal: Area total (ha)
            - EstRasonHa: ER (tonC/ha)
            - U: U (%)